<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>CV Builder</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        }

        body {
            background: #f3f4f6;
            padding: 16px;
        }

        .app {
            display: grid;
            grid-template-columns: 220px 1.5fr 1.5fr;
            gap: 16px;
            max-width: 1400px;
            margin: 0 auto;
            height: calc(100vh - 32px);
        }

        /* LEFT SIDEBAR --------------------------------------------------------- */
        .sidebar {
            background: #ffffff;
            border-radius: 10px;
            padding: 16px 12px;
            box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
            overflow-y: auto;
        }

        .sidebar-title {
            font-weight: 700;
            font-size: 18px;
            margin-bottom: 12px;
        }

        .steps {
            list-style: none;
        }

        .step {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 10px;
            border-radius: 8px;
            cursor: pointer;
            margin-bottom: 4px;
            font-size: 14px;
        }

        .step-number {
            width: 22px;
            height: 22px;
            border-radius: 999px;
            border: 1px solid #d1d5db;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
        }

        .step.active {
            background: #2563eb;
            color: #ffffff;
        }

        .step.active .step-number {
            border-color: #ffffff;
        }

        /* MIDDLE FORM ---------------------------------------------------------- */
        .form-panel {
            background: #ffffff;
            border-radius: 10px;
            padding: 20px 24px;
            box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .form-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .form-title {
            font-size: 20px;
            font-weight: 600;
        }

        .form-body {
            flex: 1;
            overflow-y: auto;
            padding-right: 4px;
            margin-bottom: 12px;
        }

        .field-group {
            margin-bottom: 12px;
        }

        label {
            display: block;
            font-size: 14px;
            margin-bottom: 4px;
            font-weight: 500;
        }

        input[type="text"],
        input[type="email"],
        input[type="tel"],
        textarea {
            width: 100%;
            padding: 8px 10px;
            border-radius: 6px;
            border: 1px solid #d1d5db;
            font-size: 14px;
        }

        textarea {
            min-height: 100px;
            resize: vertical;
        }

        .two-cols {
            display: grid;
            grid-template-columns: repeat(2, minmax(0, 1fr));
            gap: 10px;
        }

        .form-footer {
            display: flex;
            justify-content: space-between;
            margin-top: 4px;
        }

        button {
            padding: 8px 16px;
            border-radius: 999px;
            border: none;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
        }

        .btn-secondary {
            background: #e5e7eb;
        }

        .btn-primary {
            background: #2563eb;
            color: #ffffff;
        }

        /* RIGHT PREVIEW -------------------------------------------------------- */
        .preview-panel {
            background: #111827;
            border-radius: 10px;
            padding: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            box-shadow: 0 1px 4px rgba(0, 0, 0, 0.25);
        }

        .preview-header {
            color: #fbbf24;
            font-weight: 600;
            margin-bottom: 6px;
            font-size: 14px;
            align-self: flex-start;
        }

        .preview-frame {
            background: #ffffff;
            width: 100%;
            max-width: 600px;
            height: 100%;
            border-radius: 6px;
            padding: 24px;
            overflow-y: auto;
        }

        /* SIMPLE CV LOOK INSIDE PREVIEW -------------------------------------- */
        .cv-name {
            font-size: 22px;
            font-weight: 700;
        }

        .cv-title {
            font-size: 15px;
            color: #4b5563;
            margin-bottom: 4px;
        }

        .cv-meta {
            font-size: 12px;
            color: #6b7280;
            margin-bottom: 10px;
        }

        .cv-section-title {
            font-weight: 600;
            font-size: 14px;
            margin: 12px 0 4px;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .cv-job-title {
            font-weight: 600;
            font-size: 13px;
        }

        .cv-job-meta {
            font-size: 11px;
            color: #6b7280;
            margin-bottom: 4px;
        }

        .cv-list {
            margin-left: 18px;
            font-size: 12px;
        }

        @media (max-width: 1000px) {
            .app {
                grid-template-columns: 1fr;
                grid-template-rows: auto auto auto;
                height: auto;
            }

            .preview-panel {
                height: 500px;
            }
        }
    </style>
</head>

<body>
    <div class="app">
        <!-- LEFT SIDEBAR -------------------------------------------------------->
        <aside class="sidebar">
            <div class="sidebar-title">Your resume</div>
            <ul class="steps">
                <li class="step active" data-step="0">
                    <div class="step-number">1</div><span>Personal details</span>
                </li>
                <li class="step" data-step="1">
                    <div class="step-number">2</div><span>Contact info</span>
                </li>
                <li class="step" data-step="2">
                    <div class="step-number">3</div><span>Work experience</span>
                </li>
                <li class="step" data-step="3">
                    <div class="step-number">4</div><span>Skills</span>
                </li>
                <li class="step" data-step="4">
                    <div class="step-number">5</div><span>Education</span>
                </li>
                <li class="step" data-step="5">
                    <div class="step-number">6</div><span>Summary</span>
                </li>
            </ul>
        </aside>

        <!-- MIDDLE FORM PANEL --------------------------------------------------->
        <main class="form-panel">
            <div class="form-header">
                <h2 class="form-title" id="form-title">Personal details</h2>
            </div>

            <div class="form-body">
                <!-- STEP 0: PERSONAL DETAILS -->
                <div class="step-form" data-step="0">
                    <div class="field-group">
                        <label for="fullName">Full name</label>
                        <input id="fullName" type="text" value="Sameera Wagaarachchige" />
                    </div>
                    <div class="field-group">
                        <label for="jobTitle">Job title</label>
                        <input id="jobTitle" type="text" value="QA/QC Engineer" />
                    </div>
                </div>

                <!-- STEP 1: CONTACT INFO -->
                <div class="step-form" data-step="1" style="display:none">
                    <div class="field-group">
                        <label for="location">Location</label>
                        <input id="location" type="text" value="Espoo, Uusimaa, Finland" />
                    </div>
                    <div class="two-cols">
                        <div class="field-group">
                            <label for="phone">Phone</label>
                            <input id="phone" type="tel" value="+358 41 57 47 218" />
                        </div>
                        <div class="field-group">
                            <label for="email">Email</label>
                            <input id="email" type="email" value="sameera474@gmail.com" />
                        </div>
                    </div>
                </div>

                <!-- STEP 2: WORK EXPERIENCE (FIRST JOB ONLY FOR DEMO) -->
                <div class="step-form" data-step="2" style="display:none">
                    <div class="field-group">
                        <label for="job1Title">Job title</label>
                        <input id="job1Title" type="text"
                            value="QA QC and Laboratory Head, Access Engineering PLC – iRoad Project" />
                    </div>
                    <div class="field-group">
                        <label for="job1Dates">Dates</label>
                        <input id="job1Dates" type="text" value="Apr 2021 – Aug 2024" />
                    </div>
                    <div class="field-group">
                        <label for="job1Location">Location</label>
                        <input id="job1Location" type="text" value="Gampaha, Sri Lanka" />
                    </div>
                    <div class="field-group">
                        <label for="job1Description">Main responsibilities (one per line)</label>
                        <textarea id="job1Description">Led QA/QC and laboratory operations for road construction and plant activities.
Planned and carried out regular quality audits and site inspections.
Prepared and maintained QA/QC documentation (ITPs, Method Statements, RFIs, test reports).</textarea>
                    </div>
                </div>

                <!-- STEP 3: SKILLS -->
                <div class="step-form" data-step="3" style="display:none">
                    <div class="field-group">
                        <label for="skills">Key skills (comma separated)</label>
                        <textarea
                            id="skills">Quality audits and inspections, QA/QC documentation, Construction materials testing</textarea>
                    </div>
                </div>

                <!-- STEP 4: EDUCATION -->
                <div class="step-form" data-step="4" style="display:none">
                    <div class="field-group">
                        <label for="education">Education (short)</label>
                        <textarea
                            id="education">BSc (Hons) Materials Science and Engineering – University of Moratuwa</textarea>
                    </div>
                </div>

                <!-- STEP 5: SUMMARY -->
                <div class="step-form" data-step="5" style="display:none">
                    <div class="field-group">
                        <label for="summary">Professional summary</label>
                        <textarea
                            id="summary">Quality-driven QA/QC Engineer with experience in civil, structural and MEP works, quality audits, and construction materials testing.</textarea>
                    </div>
                </div>
            </div>

            <div class="form-footer">
                <button class="btn-secondary" id="btn-prev">Back</button>
                <button class="btn-primary" id="btn-next">Next</button>
            </div>
        </main>

        <!-- RIGHT PREVIEW PANEL ------------------------------------------------->
        <aside class="preview-panel">
            <div class="preview-header">Preview</div>
            <div class="preview-frame" id="preview">
                <!-- SIMPLE CV TEMPLATE – you can replace this whole block with your big HTML template -->
                <div>
                    <div class="cv-name" id="cv-name">Sameera Wagaarachchige</div>
                    <div class="cv-title" id="cv-title">QA/QC Engineer</div>
                    <div class="cv-meta" id="cv-meta">
                        Espoo, Uusimaa, Finland · +358 41 57 47 218 · sameera474@gmail.com
                    </div>

                    <div class="cv-section-title">Professional Summary</div>
                    <div id="cv-summary" style="font-size: 12px;">
                        <!-- filled by JS -->
                    </div>

                    <div class="cv-section-title">Experience</div>
                    <div>
                        <div class="cv-job-title" id="cv-job1-title"></div>
                        <div class="cv-job-meta" id="cv-job1-meta"></div>
                        <ul class="cv-list" id="cv-job1-list"></ul>
                    </div>

                    <div class="cv-section-title">Skills</div>
                    <ul class="cv-list" id="cv-skills"></ul>

                    <div class="cv-section-title">Education</div>
                    <div id="cv-education" style="font-size: 12px;"></div>
                </div>
            </div>
        </aside>
    </div>

    <script>
        // ----- STEP NAVIGATION --------------------------------------------------
        const steps = Array.from(document.querySelectorAll(".step"));
        const stepForms = Array.from(document.querySelectorAll(".step-form"));
        const formTitle = document.getElementById("form-title");
        const titles = [
            "Personal details",
            "Contact info",
            "Work experience",
            "Skills",
            "Education",
            "Summary",
        ];
        let currentStep = 0;

        function showStep(index) {
            currentStep = index;
            formTitle.textContent = titles[index];

            stepForms.forEach(f => {
                f.style.display = f.dataset.step == index ? "block" : "none";
            });

            steps.forEach(s => {
                s.classList.toggle("active", Number(s.dataset.step) === index);
            });

            // buttons enabled/disabled
            document.getElementById("btn-prev").disabled = index === 0;
            document.getElementById("btn-next").textContent =
                index === stepForms.length - 1 ? "Finish" : "Next";
        }

        steps.forEach(s => {
            s.addEventListener("click", () => {
                showStep(Number(s.dataset.step));
            });
        });

        document.getElementById("btn-prev").addEventListener("click", () => {
            if (currentStep > 0) showStep(currentStep - 1);
        });

        document.getElementById("btn-next").addEventListener("click", () => {
            if (currentStep < stepForms.length - 1) {
                showStep(currentStep + 1);
            } else {
                alert("All sections completed. You can print this page as PDF.");
            }
        });

        // ----- LIVE PREVIEW BINDING --------------------------------------------
        const bindText = (inputId, cb) => {
            const el = document.getElementById(inputId);
            el.addEventListener("input", () => cb(el.value));
            cb(el.value); // initial
        };

        bindText("fullName", v => {
            document.getElementById("cv-name").textContent = v || "Your name";
        });

        bindText("jobTitle", v => {
            document.getElementById("cv-title").textContent = v || "Job title";
        });

        const updateMeta = () => {
            const loc = document.getElementById("location").value;
            const phone = document.getElementById("phone").value;
            const email = document.getElementById("email").value;
            document.getElementById("cv-meta").textContent =
                [loc, phone, email].filter(Boolean).join(" · ");
        };

        ["location", "phone", "email"].forEach(id => {
            document.getElementById(id).addEventListener("input", updateMeta);
        });
        updateMeta();

        bindText("summary", v => {
            document.getElementById("cv-summary").textContent = v;
        });

        bindText("job1Title", v => {
            document.getElementById("cv-job1-title").textContent = v;
        });

        const updateJob1Meta = () => {
            const dates = document.getElementById("job1Dates").value;
            const loc = document.getElementById("job1Location").value;
            document.getElementById("cv-job1-meta").textContent =
                [dates, loc].filter(Boolean).join(" · ");
        };
        ["job1Dates", "job1Location"].forEach(id => {
            document.getElementById(id).addEventListener("input", updateJob1Meta);
        });
        updateJob1Meta();

        bindText("job1Description", v => {
            const list = document.getElementById("cv-job1-list");
            list.innerHTML = "";
            v.split("\n").forEach(line => {
                const trimmed = line.trim();
                if (!trimmed) return;
                const li = document.createElement("li");
                li.textContent = trimmed;
                list.appendChild(li);
            });
        });

        bindText("skills", v => {
            const list = document.getElementById("cv-skills");
            list.innerHTML = "";
            v.split(",").forEach(skill => {
                const trimmed = skill.trim();
                if (!trimmed) return;
                const li = document.createElement("li");
                li.textContent = trimmed;
                list.appendChild(li);
            });
        });

        bindText("education", v => {
            document.getElementById("cv-education").textContent = v;
        });

        // initial
        showStep(0);
    </script>
</body>

</html>